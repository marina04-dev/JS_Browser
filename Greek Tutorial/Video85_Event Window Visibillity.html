<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title> JS+Browser Tutorial</title>
  <style>
      body {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100vh;
          font-family: Arial, sans-serif;
      }
      #timer {
          font-size: 48px;
          margin-bottom: 20px;
      }
      #status {
          font-size: 18px;
          color: #666;
      }
  </style>
</head>

<body>
<h1>VisibilityChange Event Demo</h1>
<div id="timer">0</div>
<div id="status">Page is visible</div>

<script>
    let timer = 0;
    let interval;

    // Function to update the timer
    function startTimer() {
        interval = setInterval(() => {
            timer++;
            document.getElementById('timer').textContent = timer;
        }, 1000);
    }

    // Function to stop the timer
    function stopTimer() {
        clearInterval(interval);
    }

    // Event listener for visibility change
    document.addEventListener('visibilitychange', () => {
        const status = document.getElementById('status');
        if (document.visibilityState === 'hidden') {
            stopTimer();
            status.textContent = 'Page is hidden - Timer paused';
            console.log('Page is hidden - Timer paused')
        } else {
            startTimer();
            status.textContent = 'Page is visible - Timer running';
            console.log('Page is visible - Timer running');
        }
    });

    // Start the timer initially
    startTimer();
</script>
</body>

</html>
